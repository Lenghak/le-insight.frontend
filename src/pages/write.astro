---
import RootLayout from "@/common/layouts/root-layout.astro";
import WriteEditor from "@/modules/write/composites/write-editor";
import WriteLayout from "@/modules/write/layouts/write-layout.astro";
import { getSession } from "auth-astro/server";

const session = await getSession(Astro.request);

if (!session?.user) return Astro.redirect("/auth/sign-in");
---

<RootLayout title="Le-Insight | Write">
  <WriteLayout>
    <WriteEditor client:only="react" />
  </WriteLayout>
</RootLayout>
